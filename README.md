
# Marketplace Parsing Bot (Ozon + Wildberries) ‚Äî v1.7.4 (fixed)

–ì–æ—Ç–æ–≤–∞—è —Å–±–æ—Ä–∫–∞ –ø–æ–¥ –≤–∞—à–∏ –ø—Ä–∞–≤–∫–∏:
- Playwright **async** + persistent context (–∫—É–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –º–µ–Ω—å—à–µ –∞–Ω—Ç–∏–±–æ—Ç–∞).
- –ú–∏–Ω–∏-—Å—Ç–µ–ª—Å –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∏–Ω–∏—Ü. —Å–∫—Ä–∏–ø—Ç—ã).
- –ü–∞—Ä—Å–∏–Ω–≥ **—á–µ—Ä–µ–∑ JSON‚ÄëLD** —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∏ —Ñ–æ–ª–ª–±–µ–∫ –ø–æ DOM).
- –ö—Ä–∞—Å–∏–≤—ã–π –ø–æ—Å—Ç: –ù–∞–∑–≤–∞–Ω–∏–µ, ‚≠ê–û—Ü–µ–Ω–∫–∞, üí∏–¶–µ–Ω–∞, üìù–û–ø–∏—Å–∞–Ω–∏–µ, —Å—Å—ã–ª–∫–∞ –ø–æ–¥ —Å–ø–æ–π–ª–µ—Ä–æ–º.
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ—Ö —Ñ–æ—Ç–æ (–¥–æ –ª–∏–º–∏—Ç–∞) –º–µ–¥–∏–∞–≥—Ä—É–ø–ø–æ–π.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
python -m venv .venv
. .venv/Scripts/activate  # Windows PowerShell
pip install -r requirements.txt
python -m playwright install
```

–°–æ–∑–¥–∞–π—Ç–µ `.env` –ø–æ –ø—Ä–∏–º–µ—Ä—É –∏–∑ `.env.example` –∏ —É–∫–∞–∂–∏—Ç–µ **BOT_TOKEN**.

## –ó–∞–ø—É—Å–∫
```bash
python -m bot.main
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```
BOT_TOKEN=123456:ABC...      # —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞
SHOW_BROWSER=1               # 1 ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä, 0 ‚Äî —Å–∫—Ä—ã—Ç—å
SLOW_MO=250                  # –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –±—Ä–∞—É–∑–µ—Ä–∞, –º—Å
DEBUG_DIR=debug              # –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–∫—Ä–∏–Ω—ã
MAX_IMAGES=10                # –º–∞–∫—Å–∏–º—É–º –∫–∞—Ä—Ç–∏–Ω–æ–∫ –≤ –ø–æ—Å—Ç–µ
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
–ï—Å–ª–∏ Ozon –ø–æ–∫–∞–∂–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É ¬´–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω¬ª ‚Äî –±–æ—Ç —Å–¥–µ–ª–∞–µ—Ç –¥–æ —Ç—Ä—ë—Ö –ø–æ–ø—ã—Ç–æ–∫.
–î–ª—è –ª—É—á—à–µ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–π RU‚Äë–ø—Ä–æ–∫—Å–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã/—Å–µ—Ç–∏.
